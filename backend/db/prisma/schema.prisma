// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum CharacterStyle {
    RUSHDOWN
    PUPPET
    ZONER
    GRAPPLER
}

model Character {
    id Int @default(autoincrement()) @id
    name String @unique
    style CharacterStyle
    moveset Move[]
    stats CharacterStats?
    skills CharacterSkill[]
}

model CharacterStats {
    character Character @relation(fields: [characterId], references: [id])
    characterId Int @id
    health Decimal
    guts Decimal
    walkSpeedForward Decimal
    walkSpeedBackward Decimal
    dashSpeed Decimal
}

model Move {
    id BigInt @default(autoincrement()) @id
    name String
    description String
    character Character @relation(fields: [characterId], references: [id])
    characterId Int
    baseDamage Decimal
}


model Skill {
    id Int @id
    name String
}

model CharacterSkill {
    character Character @relation(fields: [characterId], references: [id])
    characterId Int
    skill Skill @relation(fields: [skillId], references: [id])
    skillId Int
    yearsOfExperience Int
    notes String
    @@id ([characterId, skillId])
}

